var feedsWidgetNs=feedsWidgetNs||{};feedsWidgetNs.DeviceTypes={mobile:"mobile",desktop:"desktop"};
var feedsWidgetNs=feedsWidgetNs||{};feedsWidgetNs.FeedViewTypes={column:"column",twoColumns:"twoColumns",imageCaption:"imageCaption"};
var feedsWidgetNs=feedsWidgetNs||{};feedsWidgetNs.BaseFeed=function(e,s,d){this.caption=e,this.url=s,this.isOpenInNewTab=d},feedsWidgetNs.BaseThumbnailFeed=function(e,s,d,i){feedsWidgetNs.BaseFeed.call(this,s,d,i),this.thumbnail=e},feedsWidgetNs.BaseThumbnailFeed.prototype=new feedsWidgetNs.BaseFeed,feedsWidgetNs.OrganicFeed=function(e,s,d){feedsWidgetNs.BaseThumbnailFeed.call(this,e,s,d,!1)},feedsWidgetNs.OrganicFeed.prototype=new feedsWidgetNs.BaseThumbnailFeed,feedsWidgetNs.SponsoredFeed=function(e,s,d,i){feedsWidgetNs.BaseThumbnailFeed.call(this,e,s,d,!0),this.sourceRecommendationName=i},feedsWidgetNs.SponsoredFeed.prototype=new feedsWidgetNs.BaseThumbnailFeed;
var feedsWidgetNs=feedsWidgetNs||{};feedsWidgetNs.feedFactory=function(){this.create=function(e){var n,r,d=0!=(r=e.thumbnail).length||null!=r[0]?r[0].url:"defaultThumbnailUrl.png";switch(e.origin){case"organic":n=new feedsWidgetNs.OrganicFeed(d,e.name,e.url);break;case"sponsored":n=new feedsWidgetNs.SponsoredFeed(d,e.name,e.url,e.branding);break;default:throw"Unknown feed type: "+e.origin}return n}};
var feedsWidgetNs=feedsWidgetNs||{};feedsWidgetNs.feedHtmlFactory=function(){this.create=function(e,n){var a;switch(e){case feedsWidgetNs.FeedViewTypes.column:a=function(e){var n=document.createElement("a");n.href=e.url,e.isOpenInNewTab&&(n.target="_blank");n.className="fw-feed-column-view";var a=document.createElement("span");a.className="fw-feed-thumbnail",a.style.backgroundImage="url('"+e.thumbnail+"')",n.appendChild(a);a=document.createElement("span");a.className="fw-feed-caption",a.innerText=e.caption,n.appendChild(a),e instanceof feedsWidgetNs.SponsoredFeed&&((a=document.createElement("span")).className="fw-feed-sponser",a.innerText=e.sourceRecommendationName,n.appendChild(a));return n}(n);break;case feedsWidgetNs.FeedViewTypes.twoColumns:a=function(e){var n=document.createElement("a");n.href=e.url,e.isOpenInNewTab&&(n.target="_blank");n.className="fw-feed-two-columns-view";var a=document.createElement("div");a.className="fw-feed-thumbnail",a.style.backgroundImage="url('"+e.thumbnail+"')",n.appendChild(a);var t=document.createElement("div");t.className="fw-feed-col-two",n.appendChild(t);a=document.createElement("span");a.className="fw-feed-caption",a.innerText=e.caption,t.appendChild(a),e instanceof feedsWidgetNs.SponsoredFeed&&((a=document.createElement("span")).className="fw-feed-sponser",a.innerText=e.sourceRecommendationName,t.appendChild(a));return n}(n);break;default:throw"Unknown feed view type: "+feedResponse.origin}return a}};
var feedsWidgetNs=feedsWidgetNs||{};feedsWidgetNs.feedsWidget=function(e,t,n){function i(e){console.error(e)}this.publisherId=e,this.apiKey=t,this.sourceId=n,this.render=function(t,e,n){!function(e,t,n,i,s,o,d){var a,e=function(e){return e<=800?feedsWidgetNs.DeviceTypes.mobile:feedsWidgetNs.DeviceTypes.desktop}(e);a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");s=["http://api.taboola.com/1.0/json/",t,"/recommendations.get","?app.type=",e,"&app.apikey=",n,"&source.id=",i,"&count=",s,"&source.url=http://www.site.com/videos/214321562187.html&source.type=video"].join("");a.open("GET",s),a.addEventListener("readystatechange",function(){var e;a.readyState===XMLHttpRequest.DONE&&(200==a.status?null!=(e=JSON.parse(a.responseText)).list&&0!=e.list.length?(e=function(e){for(var t=[],n=new feedsWidgetNs.feedFactory,i=0;i<e.length;i++){var s=n.create(e[i]);t.push(s)}return t}(e.list),o(e)):o([]):d("Can't connect to Taboola's feeds endpoint"))}),a.send()}(window.innerWidth,this.publisherId,this.apiKey,this.sourceId,e,function(e){try{if(0==e.length)return void function(e){var t=document.createDocumentFragment(),n=document.createElement("span");(n=t.appendChild(n)).className="fw-empty-state",n.innerText="No feeds for you",document.getElementById(e).appendChild(t)}(t);!function(e,t,n){var i=document.createDocumentFragment(),s=document.createElement("div");(s=i.appendChild(s)).className="fw-main-container";for(var o=new feedsWidgetNs.feedHtmlFactory,d=0;d<e.length;d++){var a=o.create(n,e[d]);s.appendChild(a)}document.getElementById(t).appendChild(i)}(e,t,n)}catch(e){i(e)}},function(e){i(e)})}};